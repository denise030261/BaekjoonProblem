# [Gold III] 짚신벌레 - 2560 

[문제 링크](https://www.acmicpc.net/problem/2560) 

### 성능 요약

메모리: 9712 KB, 시간: 12 ms

### 분류

다이나믹 프로그래밍, 누적 합

### 제출 일자

2026년 1월 3일 21:48:59

### 문제 설명

<p>한 생물학자가 새로 발견된 짚신벌레 종의 생태에 대해 연구하고 있다. 매우 번식력이 강하다고 알려진 이 종은 아래와 같은 특징을 가지고 있다.</p>

<p>무성 생식을 한다.</p>

<ul>
	<li>태어난 이후 a일째 되는 날 성체가 된다.</li>
	<li>성체가 된 날부터 매일 한 마리씩 새로운 개체를 만들어낸다: 성체가 되자마자 첫 개체를 만들어내고, 그 이후로 하루가 지날 때마다 새로운 개체를 하나씩 만들어낸다. 새로운 개체 역시 태어난 이후로 a일째 되는 날부터 성체가 되어 새로운 개체를 만든다.</li>
	<li>태어난 이후로 b일째 되는 순간부터는 새로운 개체를 더 이상 만들지 않는다. 태어난 지 a일째 날부터 b일째 되는 날의 전날까지 새로운 개체를 만들어내므로 일생동안 총 b-a 마리의 개체를 만들어낸다.</li>
	<li>태어난 이후로 d일째 되는 순간 죽는다.</li>
</ul>

<p>아래는 a=2, b=4, d=6일 때 수조에 새로 태어난 짚신벌레 한 마리를 넣고 매일 관찰한 결과를 기록한 것이다. 괄호 안의 숫자들은 수조 안의 짚신벌레들이 각각 태어난 이후 며칠이 되었는지를 나타내는 정수이다.</p>

<ul>
	<li>태어난 날: (0) - 새로운 개체를 집어넣음</li>
	<li>1일째 되는 날: (1) - 짚신벌레가 자람</li>
	<li>2일째 되는 날: (2, 0) - 짚신벌레가 태어난 지 2일째가 되므로 성체가 되고 새 개체를 만들어 냄</li>
	<li>3일째 되는 날: (3, 1, 0) - 2일째 성체가 된 짚신벌레가 오늘도 새 개체를 하나 만들어 냄</li>
	<li>4일 째 되는 날: (4, 2, 1, 0) - 2일째 되는 날 만들어진 짚신벌레가 새로운 개체를 만들어 냄 (처음에 넣은 짚신벌레는 새 개체를 만들어내지 못함)</li>
	<li>5일 째 되는 날: (5, 3, 2, 1, 0, 0)</li>
	<li>6일 째 되는 날: (4, 3, 2, 1, 1, 0, 0) - 처음에 넣은 개체는 죽는다.</li>
</ul>

<p>6일 째 되는 날 수조안에 살아있는 짚신벌레는 총 7마리가 된다.</p>

<p>짚신벌레의 번식 정보 a, b, d에 대하여, 새로 태어난 짚신벌레 한 마리를 수조 안에 넣은 이후 N일째 되는 날 살아있는 짚신벌레 수를 1000으로 나눈 나머지를 출력하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 a, b, d, N을 나타내는 네 정수가 빈칸 하나를 사이에 두고 차례로 주어진다. 단, 0＜a＜b＜d ≤ 10,000이고, 1 ≤ N ≤ 1,000,000이다.</p>

### 출력 

 <p>첫째 줄에, 수조에 짚신벌레 한 마리를 넣은 지 N일째 되는 날 수조에 살아 있는 짚신벌레의 수를 1000으로 나눈 나머지를 출력한다.</p>

 ### 문제 풀이
  <p>이 문제는 dp와 누적합을 사용하여 문제를 풀었다. 처음에 dp를 개체의 수 자체를 저장하였다. 하지만 그렇게 하면 식을 만들 수 없었다. 그래서 dp를 태어난 개체의 수를 저장하였다. 현재에서 a~b-1일 전에는 개체를 태어나니 이를 이용하였다. 하지만 a와 b사이의 수가 크면 시간이 초과가 되기 때문에 누적합을 이용해서 계산을 수행한다. 그 다음에는 N일째 되는 날에 살아있는 짚신벌레 수를 출력한다. 그 수를 출력하기 위해서는 N일째 되는 날까지 태어난 개체에 d의 전날부터 태어난 객체의 수를 더하면 된다. 즉, 누적합을 통해서 sum[N]-sum[N-d]를 구하면 된다. </p>

